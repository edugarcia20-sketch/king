<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>KING — Diagnóstico Rápido</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Poppins',sans-serif;background:#121212;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;margin:0;padding:20px}
    .card{background:#1e1e1e;padding:20px;border-radius:12px;max-width:520px;width:100%;box-shadow:0 20px 60px rgba(0,0,0,0.6);text-align:center}
    h1{margin:0 0 8px 0;font-size:20px;color:#ffd66b}
    p{color:#cfcfcf;margin:8px 0 16px 0}
    button{background:#ffd66b;border:none;padding:10px 14px;border-radius:8px;font-weight:700;cursor:pointer}
    pre{background:#0b0b0b;color:#dcdcdc;padding:10px;border-radius:8px;overflow:auto;text-align:left;max-height:180px}
    .muted{color:#9aa0a6;font-size:13px;margin-top:8px}
  </style>
</head>
<body>
  <div class="card" role="main">
    <h1>KING — Diagnóstico Rápido</h1>
    <p id="msg">Teste de publicação. Ao abrir esta página, o deploy atual está mostrando o conteúdo mais recente.</p>

    <div style="display:flex;gap:10px;justify-content:center;margin-bottom:10px">
      <button id="tsBtn">Ver timestamp</button>
      <button id="lsBtn">Ver armazenamento (localStorage)</button>
    </div>

    <div id="out" style="margin-top:8px"></div>
    <div class="muted">Instruções: substitua o arquivo no repositório, salve e abra a URL com <code>?v=now</code> para forçar atualização.</div>
  </div>

<script>
  document.getElementById('tsBtn').onclick = function(){
    const d = new Date();
    document.getElementById('out').innerHTML = '<pre>Timestamp: ' + d.toString() + '\\n\\nURL loaded: ' + location.href + '</pre>';
  };
  document.getElementById('lsBtn').onclick = function(){
    try{
      let keys = Object.keys(localStorage);
      if(keys.length === 0){
        document.getElementById('out').innerHTML = '<pre>localStorage vazio</pre>';
        return;
      }
      let out = 'localStorage contents:\\n\\n';
      keys.forEach(k=>{
        let v = localStorage.getItem(k);
        // limit size shown
        if(v && v.length>1000) v = v.slice(0,1000) + '... (truncated)';
        out += k + ' = ' + (v||'null') + '\\n\\n';
      });
      document.getElementById('out').innerHTML = '<pre>' + out + '</pre>';
    }catch(e){
      document.getElementById('out').innerHTML = '<pre>Erro lendo localStorage: ' + e.message + '</pre>';
    }
  };
  // auto-run small check and show hint
  (function(){
    document.getElementById('out').innerHTML = '<pre>Diagnóstico pronto — clique em "Ver timestamp" para confirmar versão atual do arquivo.</pre>';
  })();
</script>
</body>
</html>
