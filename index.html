<!doctype html>

<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>KING ‚Äî Preview v5.6 (Nutri√ß√£o Viva)</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0a0a0a; --text:#f8f8f8; --muted:#c0c0c0; --gold:#d4af37; --red:#8b0000; --silver:#bfc7cc;
  --card:#0f1112; --glass:rgba(255,255,255,0.03);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Poppins',sans-serif;background:var(--bg);color:var(--text)}
.container{max-width:1100px;margin:20px auto;padding:18px}
.header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.brand{display:flex;flex-direction:column}
.h1{font-size:20px;font-weight:700;letter-spacing:0.6px}
.sub{color:var(--muted);font-size:13px}
.controls{display:flex;gap:8px}
.btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:10px;color:var(--text);cursor:pointer}
.btn.primary{background:linear-gradient(90deg,var(--gold),#ffd66b);color:#0a0a0a;font-weight:700}/* monthly bar */ .monthly-wrap{position:relative;margin-top:14px} .monthly-bar{height:6px;background:transparent;border-radius:6px;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,0.03)} .monthly-fill{height:100%;width:0;background:linear-gradient(90deg,var(--gold),#ffd66b);border-radius:6px;box-shadow:0 4px 18px rgba(212,175,55,0.16);transition:width 900ms ease} .monthly-label{font-size:12px;color:var(--muted);margin-top:6px}

/* layout */ .main-grid{display:grid;grid-template-columns:1fr 380px;gap:18px;margin-top:18px} .left{background:var(--card);border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.03)} .right{display:flex;flex-direction:column;gap:12px}

/* calendar */ .weekhead{display:grid;grid-template-columns:repeat(7,1fr);gap:8px} .weekcell{font-weight:600;text-align:center;color:var(--muted);font-size:12px} .grid{display:grid;grid-template-columns:repeat(7,1fr);gap:10px;margin-top:10px} .cell{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);min-height:92px;border-radius:10px;padding:8px;border:1px solid rgba(255,255,255,0.03);position:relative;cursor:pointer} .daynum{font-weight:700} .cell.today{outline:2px solid rgba(212,175,55,0.12);box-shadow:0 8px 26px rgba(212,175,55,0.06)} .cell.folga{background:linear-gradient(180deg,rgba(139,0,0,0.06),rgba(212,175,55,0.04));border:1px solid rgba(139,0,0,0.12)} .cell.past{opacity:0.45;filter:grayscale(.12)} .preview{font-size:12px;color:var(--muted);margin-top:6px}

/* health card */ .card{background:linear-gradient(180deg,#0f1112, #0b0b0b);padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)} .pizza-row{display:flex;gap:12px;align-items:center} .pizza{width:180px;height:180px} .metrics{flex:1} .metric{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px dashed rgba(255,255,255,0.03)} .metric strong{font-size:13px} .metric .val{font-weight:700;color:var(--gold)} .week-bars{margin-top:10px} .week-row{display:flex;gap:10px;align-items:flex-end;height:70px} .week-col{flex:1;text-align:center} .week-bar{width:100%;height:0;background:linear-gradient(180deg,#4da3ff,#4da3ff);border-radius:6px;transition:height 600ms ease} .week-label{font-size:12px;color:var(--muted);margin-top:6px}

/* bau list */ .bau-list{display:grid;grid-template-columns:1fr 1fr;gap:8px} .bau-item{background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)} .small{font-size:12px;color:var(--muted)}

/* modal */ .modal{position:fixed;left:0;top:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background:rgba(2,2,2,0.6);z-index:80} .panel{width:100%;max-width:760px;background:linear-gradient(180deg,#0a0a0a,#0b0b0b);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 20px 80px rgba(0,0,0,0.7)} .field{margin-bottom:10px} .input,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--text)} .action-row{display:flex;justify-content:flex-end;gap:8px} .action{padding:8px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);cursor:pointer} .action.primary{background:var(--gold);color:#0a0a0a;font-weight:700} .small-note{font-size:12px;color:var(--muted)}

/* hydration controls */ .hyd-row{display:flex;gap:8px;align-items:center} .bottle{width:64px;height:80px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);display:flex;flex-direction:column;align-items:center;justify-content:center} .bottle .lvl{font-weight:800;color:var(--gold)} .drop{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:6px;border-radius:8px;cursor:pointer}

@media(max-width:900px){.main-grid{grid-template-columns:1fr;}.pizza{width:140px;height:140px}} </style>

</head>
<body>
<div class="container">
  <div class="header">
    <div class="brand">
      <div class="h1">üè∞ KING</div>
      <div class="sub">Preview ‚Äî v5.6 ‚Ä¢ Nutri√ß√£o Viva</div>
    </div>
    <div class="controls">
      <button class="btn">Exportar</button>
      <button class="btn primary" id="openBAU">Abrir BA√ö</button>
    </div>
  </div>  <div class="monthly-wrap">
    <div class="monthly-bar"><div class="monthly-fill" id="monthlyFill"></div></div>
    <div class="monthly-label">Progresso mensal: <span id="monthlyPct">0%</span></div>
  </div>  <div class="main-grid">
    <div class="left">
      <div>
        <div class="weekhead" id="weekhead"></div>
        <div class="grid" id="calgrid"></div>
      </div>
    </div><div class="right">
  <div class="card">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong>Painel de Sa√∫de</strong>
      <div class="small">Meta: <span id="metaK">2606</span> kcal ‚Ä¢ √Ågua: <span id="metaA">2100</span> ml</div>
    </div>
    <div class="pizza-row" style="margin-top:12px">
      <canvas id="pizzaCanvas" class="pizza"></canvas>
      <div class="metrics">
        <div class="metric"><strong>√Ågua</strong><div class="val" id="mAg">0/2100</div></div>
        <div class="metric"><strong>Kcal</strong><div class="val" id="mKc">0/2606</div></div>
        <div class="metric"><strong>Sono</strong><div class="val" id="mS">0/8h</div></div>
        <div class="metric"><strong>Treino</strong><div class="val" id="mT">‚Äî</div></div>
      </div>
    </div>
    <div class="week-bars">
      <div style="display:flex;justify-content:space-between;align-items:center"><strong>Semana</strong><div class="small">Toque uma barra</div></div>
      <div class="week-row" id="weekRow"></div>
    </div>
  </div>

  <div class="card">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong>Hidrata√ß√£o</strong>
      <div class="small">Meta hoje: <span id="metaWater">2100</span> ml</div>
    </div>
    <div style="margin-top:10px" class="hyd-row">
      <div class="bottle" id="bA"><div class="lvl" id="bA_lvl">0/4</div><div class="small">Garrafa A</div></div>
      <div class="bottle" id="bB"><div class="lvl" id="bB_lvl">0/4</div><div class="small">Garrafa B</div></div>
      <div style="display:flex;flex-direction:column;gap:8px">
        <button class="drop" id="addDrop">+25 ml</button>
        <div class="small-note">Total: <span id="totWater">0</span> ml</div>
      </div>
    </div>
  </div>

  <div class="card">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong>BA√ö (preview)</strong>
      <div class="small">Itens: <span id="bauCount">0</span></div>
    </div>
    <div class="bau-list" id="bauList"></div>
  </div>
</div>

  </div>
</div><!-- modal day --><div class="modal" id="dayModal">
  <div class="panel">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong id="dTitle">Dia</strong>
      <div><button class="action" id="closeModal">Fechar</button></div>
    </div>
    <div style="margin-top:12px">
      <div class="field"><label class="small-note">üè¢ Trabalho</label><div class="small-note" id="mWork">13:40 ‚Üí 01:40</div></div>
      <div class="field"><label class="small-note">üçΩÔ∏è Alimenta√ß√£o sugerida</label>
        <div id="mealSug" style="background:rgba(255,255,255,0.02);padding:10px;border-radius:8px">
        </div>
      </div>
      <div class="field"><label class="small-note">üíß Hidrata√ß√£o</label>
        <div class="small-note">Clique nas garrafas na tela principal para marcar</div>
      </div>
      <div class="action-row" style="margin-top:12px"><button class="action primary" id="confirmMeals">‚úÖ Confirmar consumo</button></div>
    </div>
  </div>
</div><script>
// Preview data and interactions
const weekNames = ['Dom','Seg','Ter','Qua','Qui','Sex','S√°b'];
const bau = [
  {nome:'Banana',setor:'Geladeira',qtd:5,un:'un',k100:89},
  {nome:'Anabolic Mass (p√≥)',setor:'Despensa',qtd:1000,un:'g',k100:580/150*100},
  {nome:'Leite (aberto)',setor:'Geladeira',qtd:500,un:'ml',k100:60/100},
  {nome:'Mel Silvestre',setor:'Despensa',qtd:1250,un:'ml',k100:304/100},
  {nome:'Ovos',setor:'Geladeira',qtd:11,un:'un',k100:155/100}
];
let hydration = {bottles:[0,0],extra:0};
let health = {}; // per day records

// render week head
const weekhead = document.getElementById('weekhead');
for(let i=0;i<7;i++){const d=document.createElement('div');d.className='weekcell';d.textContent=weekNames[i];weekhead.appendChild(d);} 

// calendar render (sample month 6..)
const calgrid = document.getElementById('calgrid');
function renderCalendar(){ calgrid.innerHTML=''; const days=30; for(let d=1;d<=days;d++){ const c=document.createElement('div'); c.className='cell'; if([4,9,18,23,24].includes(d)) c.classList.add('folga'); if(d===6) c.classList.add('today'); const dn=document.createElement('div'); dn.className='daynum'; dn.textContent=d; c.appendChild(dn); const pv=document.createElement('div'); pv.className='preview'; pv.textContent = d===6 ? 'Treino: Intenso ‚Ä¢ Shake pr√©/post' : ''; c.appendChild(pv); c.onclick = ()=> openDay(d); calgrid.appendChild(c);} }
renderCalendar();

// BAU list
function renderBAU(){ const el=document.getElementById('bauList'); el.innerHTML=''; bau.forEach(it=>{ const div=document.createElement('div'); div.className='bau-item'; div.innerHTML = `<strong>${it.nome}</strong><div class="small">${it.setor} ‚Ä¢ ${it.qtd}${it.un}</div>`; el.appendChild(div); }); document.getElementById('bauCount').innerText = bau.length; }
renderBAU();

// monthly progress mock
function setMonthly(pct){ document.getElementById('monthlyFill').style.width = pct + '%'; document.getElementById('monthlyPct').innerText = pct + '%'; }
setMonthly(42);

// hydration
function updateHydDisplay(){ document.getElementById('bA_lvl').innerText = hydration.bottles[0] + '/4'; document.getElementById('bB_lvl').innerText = hydration.bottles[1] + '/4'; document.getElementById('totWater').innerText = (hydration.bottles[0]+hydration.bottles[1])*125 + hydration.extra; document.getElementById('mAg').innerText = ((hydration.bottles[0]+hydration.bottles[1])*125 + hydration.extra) + '/2100'; }
updateHydDisplay();

document.getElementById('bA').onclick = ()=>{ hydration.bottles[0] = Math.min(4, hydration.bottles[0]+1); updateHydDisplay(); drawPizza(); updateWeeklyBars(); };
document.getElementById('bB').onclick = ()=>{ hydration.bottles[1] = Math.min(4, hydration.bottles[1]+1); updateHydDisplay(); drawPizza(); updateWeeklyBars(); };
document.getElementById('addDrop').onclick = ()=>{ hydration.extra += 25; updateHydDisplay(); drawPizza(); updateWeeklyBars(); };

// open day modal with meal suggestions
function openDay(d){ document.getElementById('dTitle').innerText = 'Dia ' + d; document.getElementById('dayModal').style.display='flex'; // sample suggestion using BAU
 const sug = generateMealsForDay(d); const cont = document.getElementById('mealSug'); cont.innerHTML = ''; sug.forEach(s=>{ const p=document.createElement('div'); p.style.marginBottom='8px'; p.innerHTML = `<strong>${s.time} ‚Ä¢ ${s.title}</strong><div class="small">${s.items.join(', ')}</div><div class="small" style="margin-top:4px">‚âà ${s.kcal} kcal</div>`; cont.appendChild(p); }); }

document.getElementById('closeModal').onclick = ()=>{ document.getElementById('dayModal').style.display='none'; };

document.getElementById('confirmMeals').onclick = ()=>{ alert('Refei√ß√µes confirmadas (preview) ‚Äî BA√ö ser√° atualizado na vers√£o completa.'); document.getElementById('dayModal').style.display='none'; };

// simple meal generator using BAU
function generateMealsForDay(d){ // use availability
 const has = (name)=> bau.some(b=>b.nome.toLowerCase().includes(name.toLowerCase()) && b.qtd>0);
 const take = (name,qty)=>{ for(const b of bau){ if(b.nome.toLowerCase().includes(name.toLowerCase()) && b.qtd>0){ b.qtd = Math.max(0, b.qtd - qty); } } };
 const meals = [];
 // breakfast
 let br = [];
 if(has('ovos')){ br.push('2 ovos'); }
 if(has('banana')){ br.push('1 banana'); }
 if(has('p√£o')||has('pao')){ br.push('1 p√£o franc√™s'); }
 meals.push({time:'09:00', title:'Caf√© da manh√£', items:br, kcal: (br.length? 480:250)});
 // lunch
 let lu = [];
 if(has('arroz')) lu.push('150g arroz cozido');
 if(has('pur√™')) lu.push('200g pur√™ de batata');
 if(has('lingui√ßa')) lu.push('1 lingui√ßa calabresa');
 meals.push({time:'13:00', title:'Almo√ßo', items:lu, kcal:(lu.length? 700:450)});
 // lanche
 let ln = [];
 if(has('granola')) ln.push('30g granola');
 if(has('mel')) ln.push('1 colher mel');
 meals.push({time:'16:00', title:'Lanche', items:ln, kcal:(ln.length? 200:120)});
 // jantar
 let jt = [];
 if(has('arroz')) jt.push('150g arroz');
 if(has('ovos')) jt.push('2 ovos');
 meals.push({time:'20:00', title:'Jantar', items:jt, kcal:(jt.length? 520:320)});
 // post workout (two shakes considered elsewhere)
 meals.push({time:'22:30', title:'P√≥s-treino (shake)', items:['1 dose Anabolic Mass 75g','1 banana','300 ml leite','1 colher mel'], kcal:711});
 return meals; }

// pizza chart draw
const pc = document.getElementById('pizzaCanvas'); const pctx = pc.getContext('2d');
function drawPizza(){ pc.width = pc.clientWidth*2; pc.height = pc.clientHeight*2; pctx.clearRect(0,0,pc.width,pc.height);
 const cx=pc.width/2, cy=pc.height/2, r=Math.min(cx,cy)-8;
 const agua = Math.min(1, ((hydration.bottles[0]+hydration.bottles[1])*125+hydration.extra)/2100 );
 const kcal = Math.min(1, 1200/2606); // example current kcal
 const sono = Math.min(1, 7/8);
 const treino = Math.min(1, 1/3);
 const parts=[agua,kcal,sono,treino];
 const colors=['#4da3ff','#9dd3ff','#ffd66b','#b6ffd8'];
 let start=-Math.PI/2; for(let i=0;i<4;i++){ const end = start + parts[i]*Math.PI*2; pctx.beginPath(); pctx.moveTo(cx,cy); pctx.arc(cx,cy,r,start,end); pctx.closePath(); pctx.fillStyle=colors[i]; pctx.globalAlpha=0.95; pctx.fill(); start=end; }
 pctx.beginPath(); pctx.fillStyle=varColor('#0a0a0a'); pctx.arc(cx,cy,r*0.5,0,Math.PI*2); pctx.fill(); document.getElementById('equilibriumPct')?.innerText = Math.round(((agua*0.25)+(kcal*0.25)+(sono*0.25)+(treino*0.2))*100) + '%'; }
function varColor(c){ return c; }

// week bars sample
function updateWeeklyBars(){ const row = document.getElementById('weekRow'); row.innerHTML=''; for(let i=0;i<7;i++){ const col=document.createElement('div'); col.className='week-col'; const bar=document.createElement('div'); bar.className='week-bar'; const pct = Math.floor(Math.random()*60)+30; bar.style.height = pct + '%'; col.appendChild(bar); const lbl=document.createElement('div'); lbl.className='week-label'; lbl.innerText = ['Seg','Ter','Qua','Qui','Sex','S√°b','Dom'][i]; col.appendChild(lbl); row.appendChild(col); } }
updateWeeklyBars(); drawPizza();

// init
function init(){ renderBAU(); updateHydDisplay(); drawPizza(); updateWeeklyBars(); }
init();

</script></body>
</html>
